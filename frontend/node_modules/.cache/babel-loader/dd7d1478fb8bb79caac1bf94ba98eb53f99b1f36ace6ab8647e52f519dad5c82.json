{"ast":null,"code":"var _jsxFileName = \"/Users/admin/Downloads/12-adv-starting-project/frontend/src/pages/EventDetail.js\",\n  _s = $RefreshSig$();\nimport React, { Suspense } from \"react\";\nimport { Await, defer, json, redirect, useRouteLoaderData } from \"react-router-dom\";\nimport EventItem from \"../components/EventItem\";\nimport EventsList from \"../components/EventsList\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst EventDetail = () => {\n  _s();\n  const {\n    event,\n    events\n  } = useRouteLoaderData(\"event-loader\");\n  return /*#__PURE__*/_jsxDEV(React.Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Suspense, {\n      fallback: /*#__PURE__*/_jsxDEV(\"p\", {\n        style: {\n          textAlign: \"center\"\n        },\n        children: \" Loading... \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 17,\n        columnNumber: 27\n      }, this),\n      children: /*#__PURE__*/_jsxDEV(Await, {\n        resolve: event,\n        children: loadedEventDetail => /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            textAlign: \"center\"\n          },\n          children: [\" \", /*#__PURE__*/_jsxDEV(EventItem, {\n            event: loadedEventDetail\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 22,\n            columnNumber: 15\n          }, this), \" \"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 20,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 18,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 17,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Suspense, {\n      fallback: /*#__PURE__*/_jsxDEV(\"p\", {\n        style: {\n          textAlign: \"center\"\n        },\n        children: \" Loading... \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 27,\n        columnNumber: 27\n      }, this),\n      children: /*#__PURE__*/_jsxDEV(Await, {\n        resolve: events,\n        children: loadedEvents => /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            textAlign: \"center\"\n          },\n          children: [\" \", /*#__PURE__*/_jsxDEV(EventsList, {\n            events: loadedEvents\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 32,\n            columnNumber: 15\n          }, this), \" \"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 30,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 28,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 27,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 15,\n    columnNumber: 5\n  }, this);\n};\n_s(EventDetail, \"RYHFM3+vnAtCT3vK8ii1+i0+Nsk=\", false, function () {\n  return [useRouteLoaderData];\n});\n_c = EventDetail;\nexport default EventDetail;\nconst loadEventDetail = async id => {\n  const response = await fetch(`http://localhost:8080/events/${id}`);\n  if (!response.ok) {\n    throw json({\n      message: \"unable to fetch data for the selected event\"\n    }, {\n      status: 500\n    });\n  } else {\n    const loadedData = await response.json();\n    return loadedData.event;\n  }\n};\nconst loadEvents = async () => {\n  const response = await fetch(\"http://localhost:8080/events\");\n  if (!response.ok) {\n    throw json({\n      message: \"unable to fetch events\"\n    }, {\n      status: 500\n    });\n  } else {\n    const loadedData = await response.json();\n    return loadedData.events;\n  }\n};\nexport const loader = _ref => {\n  let {\n    request,\n    params\n  } = _ref;\n  const id = params.id;\n  return defer({\n    event: loadEventDetail(id),\n    events: loadEvents()\n  });\n};\nexport const action = async _ref2 => {\n  let {\n    request,\n    params\n  } = _ref2;\n  const id = params.id;\n  const response = await fetch(`http://localhost:8080/events/${id}`, {\n    method: request.method\n  });\n  if (!response.ok) {\n    throw json({\n      message: \"unable to delete selected event\"\n    }, {\n      status: 500\n    });\n  } else {\n    return redirect(\"/events\");\n  }\n};\nvar _c;\n$RefreshReg$(_c, \"EventDetail\");","map":{"version":3,"names":["React","Suspense","Await","defer","json","redirect","useRouteLoaderData","EventItem","EventsList","jsxDEV","_jsxDEV","EventDetail","_s","event","events","Fragment","children","fallback","style","textAlign","fileName","_jsxFileName","lineNumber","columnNumber","resolve","loadedEventDetail","loadedEvents","_c","loadEventDetail","id","response","fetch","ok","message","status","loadedData","loadEvents","loader","_ref","request","params","action","_ref2","method","$RefreshReg$"],"sources":["/Users/admin/Downloads/12-adv-starting-project/frontend/src/pages/EventDetail.js"],"sourcesContent":["import React, { Suspense } from \"react\";\nimport {\n  Await,\n  defer,\n  json,\n  redirect,\n  useRouteLoaderData,\n} from \"react-router-dom\";\nimport EventItem from \"../components/EventItem\";\nimport EventsList from \"../components/EventsList\";\n\nconst EventDetail = () => {\n  const { event, events } = useRouteLoaderData(\"event-loader\");\n  return (\n    <React.Fragment>\n      {/* <EventItem event={data.event} /> */}\n      <Suspense fallback={<p style={{ textAlign: \"center\" }}> Loading... </p>}>\n        <Await resolve={event}>\n          {(loadedEventDetail) => (\n            <div style={{ textAlign: \"center\" }}>\n              {\" \"}\n              <EventItem event={loadedEventDetail} />{\" \"}\n            </div>\n          )}\n        </Await>\n      </Suspense>\n      <Suspense fallback={<p style={{ textAlign: \"center\" }}> Loading... </p>}>\n        <Await resolve={events}>\n          {(loadedEvents) => (\n            <div style={{ textAlign: \"center\" }}>\n              {\" \"}\n              <EventsList events={loadedEvents} />{\" \"}\n            </div>\n          )}\n        </Await>\n      </Suspense>\n    </React.Fragment>\n  );\n};\n\nexport default EventDetail;\n\nconst loadEventDetail = async (id) => {\n  const response = await fetch(`http://localhost:8080/events/${id}`);\n  if (!response.ok) {\n    throw json(\n      { message: \"unable to fetch data for the selected event\" },\n      { status: 500 }\n    );\n  } else {\n    const loadedData = await response.json();\n    return loadedData.event;\n  }\n};\n\nconst loadEvents = async () => {\n  const response = await fetch(\"http://localhost:8080/events\");\n  if (!response.ok) {\n    throw json(\n      { message: \"unable to fetch events\" },\n      {\n        status: 500,\n      }\n    );\n  } else {\n    const loadedData = await response.json();\n    return loadedData.events;\n  }\n};\n\nexport const loader = ({ request, params }) => {\n  const id = params.id;\n  return defer({\n    event: loadEventDetail(id),\n    events: loadEvents(),\n  });\n};\n\nexport const action = async ({ request, params }) => {\n  const id = params.id;\n  const response = await fetch(`http://localhost:8080/events/${id}`, {\n    method: request.method,\n  });\n  if (!response.ok) {\n    throw json({ message: \"unable to delete selected event\" }, { status: 500 });\n  } else {\n    return redirect(\"/events\");\n  }\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}